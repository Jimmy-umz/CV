<!-- 員工 員工信息頁面 -->

<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>員工中心 - Smile & Sunshine Toys</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
    <link rel="stylesheet" href="CSS/staff-profile.css" />
    <script src="JS/staff-profile.js" defer></script>
  </head>
  <body class="staff-mode">
    <!-- 頁頭 -->
    <header class="theme-header">
      <div class="header-content">
        <div class="logo">
          <i class="fas fa-smile"></i>
          <h1>Smile & Sunshine 員工系統</h1>
        </div>
        <div class="nav-links" id="nav-links">
          <!-- 導航鏈接會通過 JS 動態生成 -->
        </div>
      </div>
    </header>

    <!-- 主內容區 -->
    <div class="dashboard-container">
      <!-- 側邊欄 -->
      <div class="sidebar">
        <div class="staff-info">
          <div class="staff-avatar">
            <i class="fas fa-user-tie"></i>
          </div>
          <div class="staff-details">
            <h3 id="staff-name">員工名稱</h3>
            <p>銷售經理</p>
            <div class="staff-status">
              <i class="fas fa-circle"></i>
              <span>在線</span>
            </div>
          </div>
        </div>

        <nav class="sidebar-nav">
          <a href="sales-dashboard.html" class="nav-item">
            <i class="fas fa-tachometer-alt"></i>
            <span>儀表板</span>
          </a>
          <a href="product-management.html" class="nav-item">
            <i class="fas fa-boxes"></i>
            <span>商品管理</span>
          </a>
          <a href="order-management.html" class="nav-item">
            <i class="fas fa-clipboard-list"></i>
            <span>訂單管理</span>
          </a>
          <a href="customer-management.html" class="nav-item">
            <i class="fas fa-users"></i>
            <span>客戶管理</span>
          </a>
          <a href="quotation-management.html" class="nav-item">
            <i class="fas fa-file-invoice-dollar"></i>
            <span>報價管理</span>
          </a>
          <a href="staff-profile.html" class="nav-item active">
            <i class="fas fa-user-cog"></i>
            <span>員工中心</span>
          </a>
        </nav>

        <div class="sidebar-footer">
          <div class="quick-stats">
            <div class="quick-stat">
              <i class="fas fa-calendar-check"></i>
              <div>
                <span class="stat-number" id="work-days">0</span>
                <span class="stat-label">本月工作日</span>
              </div>
            </div>
            <div class="quick-stat">
              <i class="fas fa-tasks"></i>
              <div>
                <span class="stat-number" id="completed-tasks">0</span>
                <span class="stat-label">完成任務</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 主內容 -->
      <div class="main-content">
        <!-- 頁面標題 -->
        <div class="page-header">
          <div class="header-title">
            <h1><i class="fas fa-user-cog"></i> 員工個人中心</h1>
            <p>管理您的個人資料、設定和偏好</p>
          </div>
        </div>

        <div class="profile-layout">
          <!-- 左側 - 個人資料卡片 -->
          <div class="profile-sidebar">
            <!-- 個人資料卡片 -->
            <div class="profile-card">
              <div class="profile-avatar">
                <div class="avatar-image">
                  <i class="fas fa-user-tie"></i>
                </div>
                <button class="avatar-edit-btn" onclick="editAvatar()">
                  <i class="fas fa-camera"></i>
                </button>
              </div>
              <div class="profile-info">
                <h2 id="profile-name">張經理</h2>
                <p class="profile-role">銷售經理</p>
                <p class="profile-department">銷售部門</p>
                <div class="profile-stats">
                  <div class="profile-stat">
                    <span class="stat-value" id="profile-orders">128</span>
                    <span class="stat-label">處理訂單</span>
                  </div>
                  <div class="profile-stat">
                    <span class="stat-value" id="profile-customers">45</span>
                    <span class="stat-label">服務客戶</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- 快速數據 -->
            <div class="quick-data-card">
              <h3>本月表現</h3>
              <div class="quick-data-grid">
                <div class="data-item">
                  <div class="data-icon success">
                    <i class="fas fa-check-circle"></i>
                  </div>
                  <div class="data-content">
                    <span class="data-value">24</span>
                    <span class="data-label">完成報價</span>
                  </div>
                </div>
                <div class="data-item">
                  <div class="data-icon warning">
                    <i class="fas fa-clock"></i>
                  </div>
                  <div class="data-content">
                    <span class="data-value">8</span>
                    <span class="data-label">待處理</span>
                  </div>
                </div>
                <div class="data-item">
                  <div class="data-icon primary">
                    <i class="fas fa-chart-line"></i>
                  </div>
                  <div class="data-content">
                    <span class="data-value">85%</span>
                    <span class="data-label">達成率</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- 系統資訊 -->
            <div class="system-info-card">
              <h3>系統資訊</h3>
              <div class="system-info">
                <div class="info-item">
                  <span class="info-label">最後登入</span>
                  <span class="info-value" id="last-login"
                    >2024-12-15 10:30</span
                  >
                </div>
                <div class="info-item">
                  <span class="info-label">登入次數</span>
                  <span class="info-value" id="login-count">156</span>
                </div>
                <div class="info-item">
                  <span class="info-label">系統版本</span>
                  <span class="info-value">v2.1.0</span>
                </div>
              </div>
            </div>
          </div>

          <!-- 右側 - 內容區域 -->
          <div class="profile-content">
            <!-- 導航標籤 -->
            <div class="profile-tabs">
              <button class="tab-btn active" data-tab="personal">
                個人資料
              </button>
              <button class="tab-btn" data-tab="security">帳戶安全</button>
              <button class="tab-btn" data-tab="notifications">通知設定</button>
              <button class="tab-btn" data-tab="preferences">系統偏好</button>
            </div>

            <!-- 標籤內容 -->
            <div class="tab-content">
              <!-- 個人資料標籤 -->
              <div class="tab-pane active" id="personal-tab">
                <div class="form-card">
                  <h3><i class="fas fa-user-edit"></i> 基本資料</h3>
                  <form id="personal-form" class="form-grid">
                    <div class="form-group">
                      <label class="form-label">員工編號</label>
                      <input
                        type="text"
                        class="form-input"
                        value="EMP001"
                        readonly
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">姓名</label>
                      <input
                        type="text"
                        id="staff-fullname"
                        class="form-input"
                        value="張經理"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">英文姓名</label>
                      <input
                        type="text"
                        id="staff-english-name"
                        class="form-input"
                        value="Manager Zhang"
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">部門</label>
                      <select
                        id="staff-department"
                        class="form-select"
                        required
                      >
                        <option value="sales">銷售部門</option>
                        <option value="customer-service">客戶服務</option>
                        <option value="warehouse">倉儲管理</option>
                        <option value="admin">行政管理</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label class="form-label">職位</label>
                      <select id="staff-position" class="form-select" required>
                        <option value="manager">經理</option>
                        <option value="specialist">專員</option>
                        <option value="assistant">助理</option>
                        <option value="director">總監</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label class="form-label">員工等級</label>
                      <select id="staff-level" class="form-select" required>
                        <option value="senior">資深員工</option>
                        <option value="regular">正式員工</option>
                        <option value="junior">初級員工</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label class="form-label">電子郵件</label>
                      <input
                        type="email"
                        id="staff-email"
                        class="form-input"
                        value="manager.zhang@smilesunshine.com"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">手機號碼</label>
                      <input
                        type="tel"
                        id="staff-phone"
                        class="form-input"
                        value="0912-345-678"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">分機號碼</label>
                      <input
                        type="text"
                        id="staff-extension"
                        class="form-input"
                        value="123"
                      />
                    </div>
                    <div class="form-group full-width">
                      <label class="form-label">個人簡介</label>
                      <textarea
                        id="staff-bio"
                        class="form-textarea"
                        rows="4"
                        placeholder="簡述您的專業背景和專長..."
                      >
專注於客戶關係管理和銷售策略規劃，擁有5年以上玩具產業經驗。</textarea
                      >
                    </div>
                    <div class="form-actions">
                      <button
                        type="button"
                        class="btn-secondary"
                        onclick="resetPersonalForm()"
                      >
                        重設
                      </button>
                      <button
                        type="button"
                        class="btn-primary"
                        onclick="savePersonalInfo()"
                      >
                        儲存變更
                      </button>
                    </div>
                  </form>
                </div>
              </div>

              <!-- 帳戶安全標籤 -->
              <div class="tab-pane" id="security-tab">
                <div class="form-card">
                  <h3><i class="fas fa-shield-alt"></i> 密碼修改</h3>
                  <form id="security-form" class="form-grid">
                    <div class="form-group">
                      <label class="form-label">目前密碼</label>
                      <input
                        type="password"
                        id="current-password"
                        class="form-input"
                        required
                      />
                      <div class="form-hint">請輸入您目前的登入密碼</div>
                    </div>
                    <div class="form-group">
                      <label class="form-label">新密碼</label>
                      <input
                        type="password"
                        id="new-password"
                        class="form-input"
                        required
                      />
                      <div class="password-strength">
                        <div class="strength-bar">
                          <div
                            class="strength-fill"
                            id="password-strength-fill"
                          ></div>
                        </div>
                        <span class="strength-text" id="password-strength-text"
                          >密碼強度</span
                        >
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="form-label">確認新密碼</label>
                      <input
                        type="password"
                        id="confirm-password"
                        class="form-input"
                        required
                      />
                      <div class="form-hint">請再次輸入新密碼以確認</div>
                    </div>
                    <div class="password-requirements">
                      <h4>密碼要求：</h4>
                      <ul>
                        <li id="req-length">至少8個字符</li>
                        <li id="req-uppercase">包含大寫字母</li>
                        <li id="req-lowercase">包含小寫字母</li>
                        <li id="req-number">包含數字</li>
                        <li id="req-special">包含特殊字符</li>
                      </ul>
                    </div>
                    <div class="form-actions">
                      <button
                        type="button"
                        class="btn-secondary"
                        onclick="resetSecurityForm()"
                      >
                        取消
                      </button>
                      <button
                        type="button"
                        class="btn-primary"
                        onclick="changePassword()"
                      >
                        更新密碼
                      </button>
                    </div>
                  </form>
                </div>

                <div class="form-card">
                  <h3><i class="fas fa-lock"></i> 登入安全</h3>
                  <div class="security-settings">
                    <div class="security-item">
                      <div class="security-info">
                        <h4>兩步驟驗證</h4>
                        <p>為您的帳戶增加額外安全層級</p>
                      </div>
                      <label class="toggle-switch">
                        <input type="checkbox" id="two-factor-auth" />
                        <span class="toggle-slider"></span>
                      </label>
                    </div>
                    <div class="security-item">
                      <div class="security-info">
                        <h4>登入通知</h4>
                        <p>當有新裝置登入時發送通知</p>
                      </div>
                      <label class="toggle-switch">
                        <input
                          type="checkbox"
                          id="login-notifications"
                          checked
                        />
                        <span class="toggle-slider"></span>
                      </label>
                    </div>
                    <div class="security-item">
                      <div class="security-info">
                        <h4>工作階段管理</h4>
                        <p>查看和管理您的登入工作階段</p>
                      </div>
                      <button class="btn-secondary" onclick="viewSessions()">
                        管理
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 通知設定標籤 -->
              <div class="tab-pane" id="notifications-tab">
                <div class="form-card">
                  <h3><i class="fas fa-bell"></i> 通知偏好設定</h3>
                  <div class="notification-settings">
                    <div class="notification-category">
                      <h4>系統通知</h4>
                      <div class="notification-item">
                        <div class="notification-info">
                          <h5>系統維護通知</h5>
                          <p>系統維護和更新相關通知</p>
                        </div>
                        <label class="toggle-switch">
                          <input type="checkbox" id="sys-maintenance" checked />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                      <div class="notification-item">
                        <div class="notification-info">
                          <h5>安全性通知</h5>
                          <p>帳戶安全和異常登入通知</p>
                        </div>
                        <label class="toggle-switch">
                          <input type="checkbox" id="sys-security" checked />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                    </div>

                    <div class="notification-category">
                      <h4>業務通知</h4>
                      <div class="notification-item">
                        <div class="notification-info">
                          <h5>新訂單通知</h5>
                          <p>當有新訂單建立時通知</p>
                        </div>
                        <label class="toggle-switch">
                          <input type="checkbox" id="biz-new-orders" checked />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                      <div class="notification-item">
                        <div class="notification-info">
                          <h5>庫存警報</h5>
                          <p>商品庫存不足時通知</p>
                        </div>
                        <label class="toggle-switch">
                          <input type="checkbox" id="biz-low-stock" checked />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                      <div class="notification-item">
                        <div class="notification-info">
                          <h5>客戶訊息</h5>
                          <p>客戶發送新訊息時通知</p>
                        </div>
                        <label class="toggle-switch">
                          <input
                            type="checkbox"
                            id="biz-customer-messages"
                            checked
                          />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                    </div>

                    <div class="notification-category">
                      <h4>郵件通知</h4>
                      <div class="notification-item">
                        <div class="notification-info">
                          <h5>日報表郵件</h5>
                          <p>每日業務報表摘要</p>
                        </div>
                        <label class="toggle-switch">
                          <input
                            type="checkbox"
                            id="email-daily-report"
                            checked
                          />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                      <div class="notification-item">
                        <div class="notification-info">
                          <h5>週報表郵件</h5>
                          <p>每週業務績效報告</p>
                        </div>
                        <label class="toggle-switch">
                          <input type="checkbox" id="email-weekly-report" />
                          <span class="toggle-slider"></span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="form-actions">
                    <button
                      type="button"
                      class="btn-secondary"
                      onclick="resetNotificationSettings()"
                    >
                      重設預設
                    </button>
                    <button
                      type="button"
                      class="btn-primary"
                      onclick="saveNotificationSettings()"
                    >
                      儲存設定
                    </button>
                  </div>
                </div>
              </div>

              <!-- 系統偏好標籤 -->
              <div class="tab-pane" id="preferences-tab">
                <div class="form-card">
                  <h3><i class="fas fa-palette"></i> 介面設定</h3>
                  <div class="preference-settings">
                    <div class="preference-item">
                      <div class="preference-info">
                        <h4>主題模式</h4>
                        <p>選擇您偏好的介面外觀</p>
                      </div>
                      <div class="theme-selector">
                        <label class="theme-option">
                          <input
                            type="radio"
                            name="theme"
                            value="light"
                            checked
                          />
                          <div class="theme-preview light">
                            <i class="fas fa-sun"></i>
                            <span>淺色模式</span>
                          </div>
                        </label>
                        <label class="theme-option">
                          <input type="radio" name="theme" value="dark" />
                          <div class="theme-preview dark">
                            <i class="fas fa-moon"></i>
                            <span>深色模式</span>
                          </div>
                        </label>
                        <label class="theme-option">
                          <input type="radio" name="theme" value="auto" />
                          <div class="theme-preview auto">
                            <i class="fas fa-adjust"></i>
                            <span>自動</span>
                          </div>
                        </label>
                      </div>
                    </div>

                    <div class="preference-item">
                      <div class="preference-info">
                        <h4>語言設定</h4>
                        <p>選擇系統顯示語言</p>
                      </div>
                      <select id="language-preference" class="form-select">
                        <option value="zh-TW">繁體中文</option>
                        <option value="en-US">English</option>
                        <option value="ja-JP">日本語</option>
                      </select>
                    </div>

                    <div class="preference-item">
                      <div class="preference-info">
                        <h4>時區設定</h4>
                        <p>設定您的本地時區</p>
                      </div>
                      <select id="timezone-preference" class="form-select">
                        <option value="Asia/Taipei">台北時間 (UTC+8)</option>
                        <option value="Asia/Tokyo">東京時間 (UTC+9)</option>
                        <option value="America/New_York">
                          紐約時間 (UTC-5)
                        </option>
                        <option value="Europe/London">倫敦時間 (UTC+0)</option>
                      </select>
                    </div>
                  </div>
                </div>

                <div class="form-card">
                  <h3><i class="fas fa-sliders-h"></i> 工作區設定</h3>
                  <div class="preference-settings">
                    <div class="preference-item">
                      <div class="preference-info">
                        <h4>預設頁面</h4>
                        <p>設定登入後的預設顯示頁面</p>
                      </div>
                      <select id="default-page" class="form-select">
                        <option value="dashboard">儀表板</option>
                        <option value="orders">訂單管理</option>
                        <option value="customers">客戶管理</option>
                        <option value="products">商品管理</option>
                      </select>
                    </div>

                    <div class="preference-item">
                      <div class="preference-info">
                        <h4>每頁顯示數量</h4>
                        <p>設定列表頁面每頁顯示的項目數量</p>
                      </div>
                      <select id="page-size" class="form-select">
                        <option value="10">10 筆</option>
                        <option value="25" selected>25 筆</option>
                        <option value="50">50 筆</option>
                        <option value="100">100 筆</option>
                      </select>
                    </div>

                    <div class="preference-item">
                      <div class="preference-info">
                        <h4>自動重新整理</h4>
                        <p>設定資料自動重新整理的間隔</p>
                      </div>
                      <select id="auto-refresh" class="form-select">
                        <option value="0">不自動重新整理</option>
                        <option value="30000">30 秒</option>
                        <option value="60000" selected>1 分鐘</option>
                        <option value="300000">5 分鐘</option>
                      </select>
                    </div>
                  </div>
                </div>

                <div class="form-actions">
                  <button
                    type="button"
                    class="btn-secondary"
                    onclick="resetPreferences()"
                  >
                    重設預設
                  </button>
                  <button
                    type="button"
                    class="btn-primary"
                    onclick="savePreferences()"
                  >
                    儲存設定
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 頭像編輯模態框 -->
    <div class="modal" id="avatar-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>更換頭像</h3>
          <button class="close-modal" onclick="closeAvatarModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="avatar-options">
            <div class="avatar-option active" data-avatar="user-tie">
              <i class="fas fa-user-tie"></i>
            </div>
            <div class="avatar-option" data-avatar="user">
              <i class="fas fa-user"></i>
            </div>
            <div class="avatar-option" data-avatar="user-graduate">
              <i class="fas fa-user-graduate"></i>
            </div>
            <div class="avatar-option" data-avatar="user-ninja">
              <i class="fas fa-user-ninja"></i>
            </div>
            <div class="avatar-option" data-avatar="user-astronaut">
              <i class="fas fa-user-astronaut"></i>
            </div>
            <div class="avatar-option" data-avatar="user-md">
              <i class="fas fa-user-md"></i>
            </div>
          </div>
          <div class="avatar-preview">
            <div class="preview-image">
              <i class="fas fa-user-tie" id="avatar-preview-icon"></i>
            </div>
            <p>預覽頭像</p>
          </div>
        </div>
        <div class="modal-actions">
          <button class="btn-secondary" onclick="closeAvatarModal()">
            取消
          </button>
          <button class="btn-primary" onclick="saveAvatar()">確認更換</button>
        </div>
      </div>
    </div>

    <!-- 工作階段管理模態框 -->
    <div class="modal" id="sessions-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>登入工作階段管理</h3>
          <button class="close-modal" onclick="closeSessionsModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="sessions-list">
            <div class="session-item current">
              <div class="session-info">
                <h4>當前工作階段</h4>
                <p>Chrome • Windows 10 • 台北</p>
                <span class="session-time">登入時間: 2024-12-15 10:30</span>
              </div>
              <span class="session-status active">當前使用中</span>
            </div>
            <div class="session-item">
              <div class="session-info">
                <h4>其他工作階段</h4>
                <p>Safari • macOS • 台北</p>
                <span class="session-time">最後活動: 2024-12-14 16:45</span>
              </div>
              <button class="btn-secondary small" onclick="logoutSession(this)">
                登出
              </button>
            </div>
            <div class="session-item">
              <div class="session-info">
                <h4>其他工作階段</h4>
                <p>Firefox • Android • 台北</p>
                <span class="session-time">最後活動: 2024-12-13 09:15</span>
              </div>
              <button class="btn-secondary small" onclick="logoutSession(this)">
                登出
              </button>
            </div>
          </div>
        </div>
        <div class="modal-actions">
          <button class="btn-secondary" onclick="logoutAllSessions()">
            登出所有其他工作階段
          </button>
          <button class="btn-primary" onclick="closeSessionsModal()">
            關閉
          </button>
        </div>
      </div>
    </div>
  </body>
</html>
