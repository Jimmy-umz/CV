<!--客戶 結算頁面-->

<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>結帳 - Smile & Sunshine Toys</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
    <script src="JS/theme.js"></script>
    <link rel="stylesheet" href="CSS/checkout.css" />
    <script src="JS/checkout.js" defer></script>
  </head>
  <body class="client-mode">
    <!-- 頁頭 -->
    <header class="theme-header">
      <div class="header-content">
        <div class="logo">
          <i class="fas fa-smile"></i>
          <h1>Smile & Sunshine</h1>
        </div>
        <div class="nav-links" id="nav-links">
          <!-- 導航鏈接會通過 JS 動態生成 -->
        </div>
      </div>
    </header>

    <!-- 麵包屑導航 -->
    <div class="breadcrumb">
      <div class="container">
        <a href="index.html"><i class="fas fa-home"></i> 首頁</a>
        <i class="fas fa-chevron-right"></i>
        <a href="wishlist.html">願望清單</a>
        <i class="fas fa-chevron-right"></i>
        <span class="current">結帳</span>
      </div>
    </div>

    <!-- 主內容區 -->
    <div class="container">
      <!-- 登入提示 -->
      <div class="login-prompt" id="login-prompt" style="display: none">
        <i class="fas fa-info-circle"></i>
        您尚未登入，請 <a href="login.html">登入</a> 以進行結帳
      </div>

      <!-- 結帳內容 -->
      <div class="checkout-content" id="checkout-content" style="display: none">
        <div class="checkout-header">
          <h1><i class="fas fa-shopping-cart"></i> 結帳流程</h1>
          <div class="checkout-steps">
            <div class="step active" data-step="1">
              <div class="step-number">1</div>
              <div class="step-label">配送資訊</div>
            </div>
            <div class="step" data-step="2">
              <div class="step-number">2</div>
              <div class="step-label">付款方式</div>
            </div>
            <div class="step" data-step="3">
              <div class="step-number">3</div>
              <div class="step-label">確認訂單</div>
            </div>
          </div>
        </div>

        <div class="checkout-body">
          <!-- 左側：表單區域 -->
          <div class="checkout-form">
            <!-- 步驟1：配送資訊 -->
            <div class="form-step active" id="step-1">
              <div class="step-header">
                <h2><i class="fas fa-truck"></i> 配送資訊</h2>
                <p>請填寫您的收貨地址和聯繫方式</p>
              </div>

              <form id="shipping-form">
                <div class="form-section">
                  <h3>收貨人資訊</h3>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="full-name"
                        >姓名 <span class="required">*</span></label
                      >
                      <input
                        type="text"
                        id="full-name"
                        name="full-name"
                        required
                      />
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="form-group">
                      <label for="phone"
                        >電話 <span class="required">*</span></label
                      >
                      <input type="tel" id="phone" name="phone" required />
                    </div>
                    <div class="form-group">
                      <label for="email"
                        >電子郵件 <span class="required">*</span></label
                      >
                      <input type="email" id="email" name="email" required />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>配送地址</h3>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="address"
                        >詳細地址 <span class="required">*</span></label
                      >
                      <input
                        type="text"
                        id="address"
                        name="address"
                        placeholder="請輸入完整地址"
                        required
                      />
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="form-group">
                      <label for="city"
                        >城市 <span class="required">*</span></label
                      >
                      <input type="text" id="city" name="city" required />
                    </div>
                    <div class="form-group">
                      <label for="district"
                        >區域 <span class="required">*</span></label
                      >
                      <input
                        type="text"
                        id="district"
                        name="district"
                        required
                      />
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="form-group">
                      <label for="postal-code"
                        >郵遞區號 <span class="required">*</span></label
                      >
                      <input
                        type="text"
                        id="postal-code"
                        name="postal-code"
                        required
                      />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>配送方式</h3>
                  <div class="shipping-options">
                    <label class="shipping-option">
                      <input
                        type="radio"
                        name="shipping-method"
                        value="standard"
                        checked
                      />
                      <div class="option-content">
                        <div class="option-header">
                          <span class="option-name">標準配送</span>
                          <span class="option-price">免費</span>
                        </div>
                        <span class="option-desc">3-5 個工作天送達</span>
                      </div>
                    </label>

                    <label class="shipping-option">
                      <input
                        type="radio"
                        name="shipping-method"
                        value="express"
                      />
                      <div class="option-content">
                        <div class="option-header">
                          <span class="option-name">快速配送</span>
                          <span class="option-price">$50</span>
                        </div>
                        <span class="option-desc">1-2 個工作天送達</span>
                      </div>
                    </label>
                  </div>
                </div>
              </form>

              <div class="step-actions">
                <button class="btn-next" onclick="nextStep(2)">
                  繼續到付款方式
                </button>
              </div>
            </div>

            <!-- 步驟2：付款方式 -->
            <div class="form-step" id="step-2">
              <div class="step-header">
                <h2><i class="fas fa-credit-card"></i> 付款方式</h2>
                <p>選擇您的付款方式（模擬功能）</p>
              </div>

              <form id="payment-form">
                <div class="form-section">
                  <h3>選擇付款方式</h3>
                  <div class="payment-options">
                    <label class="payment-option">
                      <input
                        type="radio"
                        name="payment-method"
                        value="credit-card"
                        checked
                      />
                      <div class="option-content">
                        <i class="fas fa-credit-card"></i>
                        <span>信用卡/金融卡</span>
                      </div>
                    </label>

                    <label class="payment-option">
                      <input
                        type="radio"
                        name="payment-method"
                        value="paypal"
                      />
                      <div class="option-content">
                        <i class="fab fa-paypal"></i>
                        <span>PayPal</span>
                      </div>
                    </label>

                    <label class="payment-option">
                      <input
                        type="radio"
                        name="payment-method"
                        value="bank-transfer"
                      />
                      <div class="option-content">
                        <i class="fas fa-university"></i>
                        <span>銀行轉帳</span>
                      </div>
                    </label>
                  </div>
                </div>

                <!-- 信用卡表單（模擬） -->
                <div class="payment-details" id="credit-card-details">
                  <div class="demo-notice">
                    <i class="fas fa-info-circle"></i>
                    <span>這是模擬付款界面，無需填寫真實資料</span>
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="card-number">卡號</label>
                      <input
                        type="text"
                        id="card-number"
                        name="card-number"
                        placeholder="1234 5678 9012 3456"
                        value="**** **** **** 1234"
                        readonly
                      />
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="form-group">
                      <label for="card-holder">持卡人姓名</label>
                      <input
                        type="text"
                        id="card-holder"
                        name="card-holder"
                        value="測試用戶"
                        readonly
                      />
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="form-group">
                      <label for="expiry-date">有效期</label>
                      <input
                        type="text"
                        id="expiry-date"
                        name="expiry-date"
                        value="12/25"
                        readonly
                      />
                    </div>
                    <div class="form-group">
                      <label for="cvv">安全碼</label>
                      <input
                        type="text"
                        id="cvv"
                        name="cvv"
                        value="***"
                        readonly
                      />
                    </div>
                  </div>
                </div>

                <!-- PayPal 說明 -->
                <div
                  class="payment-details"
                  id="paypal-details"
                  style="display: none"
                >
                  <div class="demo-notice">
                    <i class="fas fa-info-circle"></i>
                    <span>模擬 PayPal 付款流程</span>
                  </div>
                  <div class="payment-info">
                    <p>
                      選擇 PayPal 付款將在下一步跳轉到 PayPal 網站完成付款。
                    </p>
                    <div class="demo-paypal">
                      <i class="fab fa-paypal"></i>
                      <p>PayPal 模擬界面</p>
                    </div>
                  </div>
                </div>

                <!-- 銀行轉帳說明 -->
                <div
                  class="payment-details"
                  id="bank-transfer-details"
                  style="display: none"
                >
                  <div class="demo-notice">
                    <i class="fas fa-info-circle"></i>
                    <span>模擬銀行轉帳資訊</span>
                  </div>
                  <div class="payment-info">
                    <p>銀行轉帳資訊：</p>
                    <ul>
                      <li>銀行：台灣銀行 (004)</li>
                      <li>帳號：1234-5678-9012</li>
                      <li>戶名：Smile & Sunshine Toys Co., Ltd.</li>
                    </ul>
                    <p>請在轉帳後將收據發送至 finance@smilesunshine.com</p>
                  </div>
                </div>
              </form>

              <div class="step-actions">
                <button class="btn-prev" onclick="prevStep(1)">
                  返回上一步
                </button>
                <button class="btn-next" onclick="nextStep(3)">
                  繼續到確認訂單
                </button>
              </div>
            </div>

            <!-- 步驟3：確認訂單 -->
            <div class="form-step" id="step-3">
              <div class="step-header">
                <h2><i class="fas fa-clipboard-check"></i> 確認訂單</h2>
                <p>請確認您的訂單資訊無誤</p>
              </div>

              <div class="order-summary-detailed">
                <div class="summary-section">
                  <h3>配送資訊</h3>
                  <div class="summary-content" id="shipping-summary">
                    <!-- 配送資訊會通過 JS 動態生成 -->
                  </div>
                </div>

                <div class="summary-section">
                  <h3>付款資訊</h3>
                  <div class="summary-content" id="payment-summary">
                    <!-- 付款資訊會通過 JS 動態生成 -->
                  </div>
                </div>

                <div class="summary-section">
                  <h3>訂單商品</h3>
                  <div class="summary-content" id="order-items-summary">
                    <!-- 訂單商品會通過 JS 動態生成 -->
                  </div>
                </div>
              </div>

              <div class="demo-notice large">
                <i class="fas fa-graduation-cap"></i>
                <div>
                  <strong>教學演示模式</strong>
                  <p>這是結帳流程的模擬演示，不會產生真實交易</p>
                </div>
              </div>

              <div class="step-actions">
                <button class="btn-prev" onclick="prevStep(2)">
                  返回上一步
                </button>
                <button class="btn-confirm" onclick="confirmOrder()">
                  <i class="fas fa-check-circle"></i> 模擬下單
                </button>
              </div>
            </div>
          </div>

          <!-- 右側：訂單摘要 -->
          <div class="order-summary">
            <div class="summary-card">
              <h3>訂單摘要</h3>

              <div class="order-items" id="order-items">
                <!-- 訂單商品會通過 JS 動態生成 -->
              </div>

              <div class="summary-totals">
                <div class="summary-row">
                  <span>商品小計</span>
                  <span id="subtotal">$0</span>
                </div>
                <div class="summary-row">
                  <span>運費</span>
                  <span id="shipping-fee">$0</span>
                </div>
                <div class="summary-row discount">
                  <span>折扣</span>
                  <span id="discount">-$0</span>
                </div>
                <div class="summary-row total">
                  <span>總計</span>
                  <span id="total-amount">$0</span>
                </div>
              </div>

              <div class="promo-code">
                <div class="promo-input">
                  <input type="text" id="promo-code" placeholder="優惠碼" />
                  <button id="apply-promo">應用</button>
                </div>
              </div>
            </div>

            <div class="security-notice">
              <i class="fas fa-shield-alt"></i>
              <div>
                <strong>安全購物</strong>
                <p>這是教學演示，所有交易均為模擬</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 成功模態框 -->
      <div class="modal" id="success-modal">
        <div class="modal-content">
          <div class="modal-icon success">
            <i class="fas fa-check-circle"></i>
          </div>
          <h2>訂單提交成功！</h2>
          <p>您的訂單已成功提交，這是模擬演示。</p>
          <div class="order-details">
            <div class="order-info">
              <strong>訂單編號：</strong>
              <span id="order-number">SS202400001</span>
            </div>
            <div class="order-info">
              <strong>預計送達：</strong>
              <span id="delivery-date">2024年12月30日</span>
            </div>
          </div>
          <div class="modal-actions">
            <button class="btn-primary" onclick="goToOrderTracking()">
              <i class="fas fa-clipboard-list"></i> 查看訂單
            </button>
            <button class="btn-secondary" onclick="goToHome()">
              <i class="fas fa-home"></i> 返回首頁
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
